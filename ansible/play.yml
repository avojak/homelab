---
- hosts: homebridge
  roles:
    - homebridge
  vars:
    homebridge_plugins:
      - name: homebridge-ring
        version: '9.15.3'
      - name: homebridge-tplink-smarthome
        version: '6.2.0'
      - name: homebridge-myq
        version: '2.6.2'
      - name: homebridge-tcc
        version: '0.2.18'
      - name: homebridge-camera-ffmpeg
        version: '3.1.1'
    homebridge_platforms:
      - platform: 'Ring'
        refreshToken: "{{ ring_token }}"
      - platform: 'TplinkSmarthome'
        name: 'TplinkSmarthome'
      - platform: 'myQ'
        email: "{{ myq_email }}"
        password: "{{ myq_password }}"
      - platform: 'tcc'
        name: 'Thermostat'
        username: "{{ honeywell_tcc_username }}"
        password: "{{ honeywell_tcc_password }}"
      - platform: 'Camera-ffmpeg'
        cameras:
          - name: 'Wyze Cam'
            videoConfig:
              source: "-i rtsp://{{ wyze_rtsp_username }}:{{ wyze_rtsp_password }}@192.168.1.49/live"
              stillImageSource: "-i rtsp://{{ wyze_rtsp_username }}:{{ wyze_rtsp_password }}@192.168.1.49/live -vframes 1 -r 1"
              vcodec: "copy"
      - platform: 'config'
        name: 'Config'
        port: 8581
    ring_token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61316137356334643930326436663231643464636438623031396538323639366531333634393061
          3838386232653466666232363366613938613731303237310a336131323237336431333565303762
          66396134633061353036653337316136373232323738383537626466613461323164393730343233
          3130346136666262310a316565313035366231346263646163613761356266333362303961643436
          31386237353663356432303733363165343239343836653236646561343164646232656339626530
          35306534393663323535373536383066333431643032376331663961643063613663363464653434
          36643736393936633164393866316666663836613235366338353738323032396538626431663162
          36613633623264663838393964353461656331653735313539623763386533333238383461643135
          61393432393737663561626164303864396365393837383233656566623138326333303265323034
          63363331363537343634386662633965626331353261666430623134343634366465393832623661
          61363266383936346239363935313833363134306562623939363332666639343331626634316364
          36393865323233663037623438373566353566393938363838336632356565393363666333623661
          38393239333236363666313933643533666432393638346436643730663039613665393337353161
          64366436316537663439313733623064373631633832303635363163336534396238376431636637
          63363433303335386338336264313536393261306264666332656632646466376131383437363363
          30376332613464303738636363343465613334396238376537316161383666303331346666316463
          34663163393532633430303333363536353837623965373662336135633763376336646164616631
          31636266613333666461663964623138333664653333353765643163646666656537643661383730
          36663765653634343866363434393564303966393961343566343331343439326333333538316462
          39626337363031343936323136326134663235666336613530643235666264333333393936373732
          35343238303738613062343064376633333831323564303830373966666633616633396332663263
          30353135323238383136633364306233306532373966643466656637366464306663333937316235
          33376230653835643066663139346161373065393732376631306336336635393163393964656435
          38303065366535633661636564383531653333653433383434653965323630343837623366623366
          38353938306163666166343639383839336237356664373935666465386562313731633065663466
          30313830623534616631656534393234393966316564316664656136663335613361363961303062
          63366430623930333334353763333434623637343731373833316135663861343966323930613538
          35323637643666356335
    myq_email: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32346662306663636432633762393639303431373632383434306539326230636631363264643335
          3937633063383361643663323066363336393938663866330a656562663065353539383936626466
          64316437373230363034653266383933326562333637383063383635313237326235663036323538
          3735313462623331640a643166393464386430346234346234383937353633633136343033373437
          33623634663630383966393132333863313462653561363435363930363265386231
    myq_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65336662663262633836323737373734316438633133643862613237336264623637636462613635
          6663636339623038366438666566633135306262303233340a626532383561333137373465303063
          34616332323733303565396331366130656132636365616638623530383831376363383362613934
          3735636631306539340a666365313037393866393636636234626463366132353365373934356132
          64346437363439656262303064306135316630663536313235343338353861396430
    honeywell_tcc_username: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66366662323930326339366366353466396466643264643830656639643235323131306232343930
          3164343562353036646264363664396665313335666564650a346162346164333436633530323536
          34376232353334636131326565386531623035393730663032386430333436306263616330353639
          6263333431333332360a653633376465653466616639643766623433303762303138303461373038
          64383865383663393961326531366261333630353362346533666663616232616564
    honeywell_tcc_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33306162633137393331386336656366376236376235366339653338343839663731633539353366
          6666343964653633376136393634633534303530313466320a303531663765623638616465383465
          33303665636435633438323836393331643463646265666565333738643865373763373337366134
          6565366237333237370a306235626366386134356430666433386634613263656364303930343839
          34643439643733323566646636663230666635633734633933316639666630363463
    wyze_rtsp_username: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63666632616435313433316233613234393666633136323532333965636237363165616535633633
          3138646237336436313665333262313761323038333365650a356164303531306538326534623961
          64376634366563396137643664316462363664623766393730383532343064613135656239353732
          6662386235323663330a383833616331376438653633396330356630343766393234336331383532
          3762
    wyze_rtsp_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35343665343462646336353165346466323938643736373432646639366463633634323837616132
          3738393761383836343437343837633466393961393238340a643036333737353462333030303530
          61333833383330323065613231393331663165663064306231616565636162313234306130643730
          3830626631353733360a383463663364306665333331663136663039373635383132383032656432
          3930

- hosts: plex
  roles:
    - plex
  vars:
    plex_nas_host: "192.168.1.46"
    plex_nas_mount_path: "/volume1/Plex"

# - hosts: unificontroller
#   roles:
#     - unificontroller

# - hosts: pihole
#   roles:
#     - pihole
#   vars:
#     pihole_admin_email: !vault |
#           $ANSIBLE_VAULT;1.1;AES256
#           38633533613033346162623439653831663932633134353837323734336633346363353732663466
#           3435346166373266383039316537646262323737613730370a636663613664326330336635376636
#           36333033393962336630636166653463343235656435343366343431656634636134643138373761
#           3263386635333837650a643232363434323934393965646636393865343532393130396230346237
#           63613265653636656565383337306339373861383766393265306430313835343364