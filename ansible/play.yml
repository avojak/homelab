---
- hosts: homebridge
  roles:
    - homebridge
  vars:
    homebridge_plugins:
      - name: homebridge-ring
        version: '9.16.0'
      - name: homebridge-tplink-smarthome
        version: '6.3.0'
      - name: homebridge-myq
        version: '2.6.2'
      - name: homebridge-tcc
        version: '0.2.21'
      - name: homebridge-camera-ffmpeg
        version: '3.1.2'
    homebridge_platforms:
      - platform: 'Ring'
        refreshToken: "{{ ring_token }}"
      - platform: 'TplinkSmarthome'
        name: 'TplinkSmarthome'
      - platform: 'myQ'
        email: "{{ myq_email }}"
        password: "{{ myq_password }}"
      - platform: 'tcc'
        name: 'Thermostat'
        username: "{{ honeywell_tcc_username }}"
        password: "{{ honeywell_tcc_password }}"
      - platform: 'Camera-ffmpeg'
        cameras:
          - name: 'Wyze Cam'
            videoConfig:
              source: "-i rtsp://{{ wyze_rtsp_username }}:{{ wyze_rtsp_password }}@192.168.1.49/live"
              stillImageSource: "-i rtsp://{{ wyze_rtsp_username }}:{{ wyze_rtsp_password }}@192.168.1.49/live -vframes 1 -r 1"
              vcodec: "copy"
      - platform: 'config'
        name: 'Config'
        port: 8581
    ring_token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61346363666438313864363962653030663639363966653462303830616538646636306263616636
          3538303939333632343536363738346362386362346330350a363262373538386562306332653035
          33383332376664373138646332303661393162633932346161666662336261343038636662656465
          6163643162656137340a336138383034353965343461336635353433666138343530623838376639
          65383537646434663338356564656332666466306430373464653836353162306134386139653362
          62396565303333613835376165323362393062373938353864393137346663376433343861353263
          33303161366162383239343164623930306164333762346334356430353366363461663039386234
          65346134383538303065393638343964356661336661653130343230323963613933623633663561
          34383665623632633863613165336561343237323564343337623032316637636139386166633535
          39303632386137343035623737663430336230303462313662643864336366356661393334306538
          39396330353633316337373838633334353535306666303432656365313134313839353363656162
          38373564386637383830646432383833646435313535326539613563313465633336616362306437
          35636431346533376133383361623231366336336366313937336435653339613063383138356231
          64373033626561353463643836346236376262653137336139383363333037663564366363363162
          31663535626139393264313731333335393935353739613362313862333665376232303062343961
          36303639643532353038623232623633326437396262376135643431373038323965366633323164
          31336231383161373730363034633637373661383337373761623361363932326436373332303037
          32396237363637343739393036313035376335323739323731323462376637393735366632396565
          33366334646164383838306134353164663364366330323637313135656137393237333864323366
          31333538366133643562373066366435646237366565643633373362356231643762623162376661
          63363161643430323966326466616464653433636231383435313239316266303961396638336565
          39376531396339653331616631383438306236393038333965316164333236313732623965356661
          63393131653762383337326137653465636532303238303634633563313265323533356532386161
          37653130316239313537663333313064623366666661373964373936356237623235343330616364
          38646564363332393066636664306331346338363831643834666163316137373535393864333937
          36623734616463653562663065313564383365646365366663656532666139373566343233626437
          33666338383537623961383966656336376339633638376265633965393337613430656330343763
          34313638343937633063
    myq_email: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32346662306663636432633762393639303431373632383434306539326230636631363264643335
          3937633063383361643663323066363336393938663866330a656562663065353539383936626466
          64316437373230363034653266383933326562333637383063383635313237326235663036323538
          3735313462623331640a643166393464386430346234346234383937353633633136343033373437
          33623634663630383966393132333863313462653561363435363930363265386231
    myq_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65336662663262633836323737373734316438633133643862613237336264623637636462613635
          6663636339623038366438666566633135306262303233340a626532383561333137373465303063
          34616332323733303565396331366130656132636365616638623530383831376363383362613934
          3735636631306539340a666365313037393866393636636234626463366132353365373934356132
          64346437363439656262303064306135316630663536313235343338353861396430
    honeywell_tcc_username: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66366662323930326339366366353466396466643264643830656639643235323131306232343930
          3164343562353036646264363664396665313335666564650a346162346164333436633530323536
          34376232353334636131326565386531623035393730663032386430333436306263616330353639
          6263333431333332360a653633376465653466616639643766623433303762303138303461373038
          64383865383663393961326531366261333630353362346533666663616232616564
    honeywell_tcc_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33306162633137393331386336656366376236376235366339653338343839663731633539353366
          6666343964653633376136393634633534303530313466320a303531663765623638616465383465
          33303665636435633438323836393331643463646265666565333738643865373763373337366134
          6565366237333237370a306235626366386134356430666433386634613263656364303930343839
          34643439643733323566646636663230666635633734633933316639666630363463
    wyze_rtsp_username: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63666632616435313433316233613234393666633136323532333965636237363165616535633633
          3138646237336436313665333262313761323038333365650a356164303531306538326534623961
          64376634366563396137643664316462363664623766393730383532343064613135656239353732
          6662386235323663330a383833616331376438653633396330356630343766393234336331383532
          3762
    wyze_rtsp_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35343665343462646336353165346466323938643736373432646639366463633634323837616132
          3738393761383836343437343837633466393961393238340a643036333737353462333030303530
          61333833383330323065613231393331663165663064306231616565636162313234306130643730
          3830626631353733360a383463663364306665333331663136663039373635383132383032656432
          3930

- hosts: plex
  roles:
    - plex
  vars:
    plex_nas_host: "192.168.1.46"
    plex_nas_mount_path: "/volume1/Plex"

# - hosts: unificontroller
#   roles:
#     - unificontroller

# - hosts: pihole
#   roles:
#     - pihole
#   vars:
#     pihole_admin_email: !vault |
#           $ANSIBLE_VAULT;1.1;AES256
#           38633533613033346162623439653831663932633134353837323734336633346363353732663466
#           3435346166373266383039316537646262323737613730370a636663613664326330336635376636
#           36333033393962336630636166653463343235656435343366343431656634636134643138373761
#           3263386635333837650a643232363434323934393965646636393865343532393130396230346237
#           63613265653636656565383337306339373861383766393265306430313835343364