---
- hosts: all
  roles:
    - homebridge
  vars:
    homebridge_plugins:
      - name: homebridge-ring
        version: '9.12.8'
      - name: homebridge-tplink-smarthome
        version: '6.1.0'
    homebridge_platforms:
      - platform: 'Ring'
        refreshToken: "{{ ring_token }}"
      - platform: 'TplinkSmarthome'
        name: 'TplinkSmarthome'
    ring_token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33626332666238383634373334303764393730643966313539623036613739316263626630633935
          3231343038346665376562666165316134613465383537310a323030333235623061653364386236
          63313135323430343964366130313137363935373263303930646663343334316336646135306164
          6161383933653435310a376637636162366132646135633835303666313861383333313062663334
          61393565353764376434613031346538373162666231663432613233653736383864333636653232
          63326661653865336637336435656234303034333237373335633561636135333635383466643264
          34353432323531323065386662306265313832623233363563626532656666323934653133653135
          37626231393737643932376232636637626164363666366533326430386337326239336264613764
          66306466316161623835336235656330623062613933326432663065623435376530333831626363
          32373433393234373135626662626630373033363061626363326536393566353238623638623432
          66373662383431313366396663616561613531393637623466613531666638303666383233626534
          37623964343964393030383231623866323762386233313731356466353662343638323137323139
          31303165643738373263666530343165393732346264303663383461666135313564396466653637
          64363663376564313834373734333164623332353530366639306631336438666462333464626138
          65366533306166653130313433613661663331633134343039646266656433363835303533316232
          62623462393865333130643962373136326463616439626665633562356633623338363863373934
          35653265663865333739363065393437376337643737383332303461333563633137656430306331
          31313834393666326139396533663132346266633366303530343364633562646239313937613363
          66323430633436313039653364376136633433363634396166653036383639313235653064653536
          61366165626262626130353964363765333737393661663138316537633361363465306633653363
          35363737336235333530316238393734323964383762633736636333633766373438626239363162
          30623239303664383562646332396666623635663037306365313661663866613539663764363765
          34643166633038383663613065376566386633363737653263356366346635326663303438373238
          64386136323531306635373636633532303839636264613339343332383738656466333163633066
          36343736373039306537316265393661653662643034306366663662376238663062343763386337
          36306461633039303162393535386431343230383130396465306462326366613538653737663233
          31303634343638333938303036366531353636313635333432663530303062363262633464306566
          31333830663639396364