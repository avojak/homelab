---
nodejs_version: "18.x" # Needs to match the major version used by Homebridge

# Homebridge
# homebridge_username: admin
# homebridge_password: !vault |
#           $ANSIBLE_VAULT;1.1;AES256
#           62656461323464623061636135346538326565383161396562346464316466623564303135643833
#           6434383962343338356235313663626465333436613666620a336235353263376661623265623139
#           39333832653730386162373638663466636237303731393761353762336464366534613033316633
#           3636626631326637660a306361336533393431613637653562643133313231396563336536396232
#           34356138343234316539623531643465653736376563633832653938633962386661
# homebridge_port_http: 8581
# homebridge_bridge_name: Homebridge
# homebridge_bridge_pin: !vault |
#       $ANSIBLE_VAULT;1.1;AES256
#       63303166313538343337633161656337646262373966313635616632616439323332623063383835
#       6335623264616130343161663764323764663963633139660a343862626662623863303931666361
#       35663763323335666336663536326236643839353731306436653835616262393930666438653262
#       3432326664316665390a633335636331303637633937356232346463353362396335306461333433
#       6236
# homebridge_bridge_username: CC:22:3D:E3:CE:30
# homebridge_timezone: America/Denver
# homebridge_plugins:
#   - name: homebridge-tplink-smarthome
#     version: '7.0.1'
#   - name: homebridge-myq
#     version: '2.12.0'
#   - name: homebridge-tcc
#     version: '0.2.34'
#   # - name: homebridge-pihole
#   #   version: '0.4.3'
#   - name: homebridge-prometheus-exporter
#     version: '1.0.5'
# # homebridge_accessories:
# #   - name: "Pi-hole 01"
# #     auth: "{{ pihole_web_password }}"
# #     ssl: false
# #     rejectUnauthorized: true
# #     host: "{{ hostvars['pihole-01'].ansible_host }}"
# #     port: 80
# #     baseDirectory: '/admin/'
# #     time: 0
# #     reversed: false
# #     logLevel: 1
# #     accessory: "Pihole"
# #   - name: "Pi-hole 02"
# #     auth: "{{ pihole_web_password }}"
# #     ssl: false
# #     rejectUnauthorized: true
# #     host: "{{ hostvars['pihole-02'].ansible_host }}"
# #     port: 80
# #     baseDirectory: '/admin/'
# #     time: 0
# #     reversed: false
# #     logLevel: 1
# #     accessory: "Pihole"
# homebridge_platforms:
#   - platform: 'TplinkSmarthome'
#     name: 'TplinkSmarthome'
#     addCustomCharacteristics: true
#     discoveryPort: 47988
#     deviceTypes:
#       - plug
#       - bulb
#   - platform: 'myQ'
#     email: "{{ homebridge_myq_email }}"
#     password: "{{ homebridge_myq_password }}"
#   - platform: 'tcc'
#     name: 'Thermostat'
#     username: "{{ homebridge_honeywell_tcc_username }}"
#     password: "{{ homebridge_honeywell_tcc_password }}"
#   - platform: 'config'
#     name: 'Config'
#     port: 8581
#     auth: 'form'
#     theme: 'auto'
#     tempUnits: 'f'
#     lang: 'auto'
#   - platform: 'PrometheusExporter'
#     pin: '{{ homebridge_bridge_pin }}'
#     debug: false
#     prefix: 'homebridge'
#     port: 36123
#     refresh_interval: 60
#     request_timeout: 1
#     discovery_timeout: 20
# homebridge_plugin_ports:
#   - { port: 47988, proto: udp } # TPLink Smart Home (manually set above)
#   - { port: 36123, proto: tcp } # PrometheusExporter (manually set above)

# homebridge_myq_email: !vault |
#       $ANSIBLE_VAULT;1.1;AES256
#       32346662306663636432633762393639303431373632383434306539326230636631363264643335
#       3937633063383361643663323066363336393938663866330a656562663065353539383936626466
#       64316437373230363034653266383933326562333637383063383635313237326235663036323538
#       3735313462623331640a643166393464386430346234346234383937353633633136343033373437
#       33623634663630383966393132333863313462653561363435363930363265386231
# homebridge_myq_password: !vault |
#       $ANSIBLE_VAULT;1.1;AES256
#       65336662663262633836323737373734316438633133643862613237336264623637636462613635
#       6663636339623038366438666566633135306262303233340a626532383561333137373465303063
#       34616332323733303565396331366130656132636365616638623530383831376363383362613934
#       3735636631306539340a666365313037393866393636636234626463366132353365373934356132
#       64346437363439656262303064306135316630663536313235343338353861396430
# homebridge_honeywell_tcc_username: !vault |
#       $ANSIBLE_VAULT;1.1;AES256
#       66366662323930326339366366353466396466643264643830656639643235323131306232343930
#       3164343562353036646264363664396665313335666564650a346162346164333436633530323536
#       34376232353334636131326565386531623035393730663032386430333436306263616330353639
#       6263333431333332360a653633376465653466616639643766623433303762303138303461373038
#       64383865383663393961326531366261333630353362346533666663616232616564
# homebridge_honeywell_tcc_password: !vault |
#       $ANSIBLE_VAULT;1.1;AES256
#       33306162633137393331386336656366376236376235366339653338343839663731633539353366
#       6666343964653633376136393634633534303530313466320a303531663765623638616465383465
#       33303665636435633438323836393331643463646265666565333738643865373763373337366134
#       6565366237333237370a306235626366386134356430666433386634613263656364303930343839
#       34643439643733323566646636663230666635633734633933316639666630363463

# # Scrypted
# scrypted_port_https: 10443
# scrypted_device_ports:
#   - 33622 # Doorbell
#   - 38424 # Backyard Camera
#   - 38685 # Living Room Camera
#   - 41288 # Garage Camera
#   - 48096 # Front Yard Camera

# Traefik
traefik_dashboard_enabled: false
traefik_cloudflare_email_address: andrew.vojak@gmail.com
traefik_cloudflare_api_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39303564336430373137616363396565613339356133653763336130343036323738653930376535
          6237363530643733666639386162323863653364656262310a353534623235386164333034313539
          37363861343763353335613836353230633630633435373536616231336637393562363965383336
          6461663332326134300a396333346631623937663464646536353466396466303136646634383431
          38363062616465383737356638363330356431663661633330316436363536636334636165393866
          6639646265316431373339386437613663396236303238653831
traefik_username: avojak
traefik_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38393434346237646630623731333233623436333063363132386262623539363030663436303866
          6365383231636238306436343538643763373664663735330a353336613339633039333831623636
          63663432396661333864376637346363303437343434356135613562343037393532653539323166
          6439323632653033630a303864313537623838396665663137393638373330363539393461373631
          33363564666166613636333562663138383837653966393863333836356439656539
traefik_password_salt: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61373033663761393033343939313634393237393432633436393135653265663366653337363734
          3537323135383539383639346435663761373066366135310a633830656165356336363539353437
          35326432333465616633306565623430393533393332393938626631623431343931386530633666
          6639613438623732300a303330626462373764613938356635633931316135356639366636336235
          62303031663931626363613765353134643732336365393862323932356161626538
traefik_servers_transports:
  - name: insecureSkipVerifyTransport
    insecure_skip_verify: true
traefik_services:
  - name: scrypted
    hostname: "scrypted.{{ homelab_domain }}"
    url: "https://{{ hostvars['homebridge.vojak.cloud'].ansible_host }}:{{ scrypted_port_https }}"
    servers_transport: insecureSkipVerifyTransport
  - name: homebridge
    hostname: "homebridge.{{ homelab_domain }}"
    url: "http://{{ hostvars['homebridge.vojak.cloud'].ansible_host }}:{{ homebridge_port_http }}"
traefik_port_api: 8081
