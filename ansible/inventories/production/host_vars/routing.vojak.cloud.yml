---
# Traefik
traefik_root_domain: "{{ homelab_domain }}"
traefik_dashboard_enabled: true
traefik_cloudflare_email_address: andrew.vojak@gmail.com
traefik_cloudflare_api_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39303564336430373137616363396565613339356133653763336130343036323738653930376535
          6237363530643733666639386162323863653364656262310a353534623235386164333034313539
          37363861343763353335613836353230633630633435373536616231336637393562363965383336
          6461663332326134300a396333346631623937663464646536353466396466303136646634383431
          38363062616465383737356638363330356431663661633330316436363536636334636165393866
          6639646265316431373339386437613663396236303238653831
traefik_username: avojak
traefik_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38393434346237646630623731333233623436333063363132386262623539363030663436303866
          6365383231636238306436343538643763373664663735330a353336613339633039333831623636
          63663432396661333864376637346363303437343434356135613562343037393532653539323166
          6439323632653033630a303864313537623838396665663137393638373330363539393461373631
          33363564666166613636333562663138383837653966393863333836356439656539
traefik_password_salt: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61373033663761393033343939313634393237393432633436393135653265663366653337363734
          3537323135383539383639346435663761373066366135310a633830656165356336363539353437
          35326432333465616633306565623430393533393332393938626631623431343931386530633666
          6639613438623732300a303330626462373764613938356635633931316135356639366636336235
          62303031663931626363613765353134643732336365393862323932356161626538
traefik_servers_transports:
  - name: insecureSkipVerifyTransport
    insecure_skip_verify: true
traefik_services:
  # External-facing services
  - name: plex
    hostname: plex.vojak.cloud
    url: "http://{{ hostvars['plex.vojak.cloud'].ansible_host }}:{{ plex_port_http }}"
  - name: plausible
    hostname: plausible.vojak.cloud
    url: "http://{{ hostvars['plausible.vojak.cloud'].ansible_host }}:{{ plausible_port_http }}"
  # ESXi hosts routed through Traefik for HTTPS
  - name: esx-mac-01
    hostname: esx-mac-01.vojak.cloud
    url: "https://{{ hostvars['esx-mac-01.vojak.cloud'].ansible_host }}"
    servers_transport: insecureSkipVerifyTransport
  - name: esx-mac-02
    hostname: esx-mac-02.vojak.cloud
    url: "https://{{ hostvars['esx-mac-02.vojak.cloud'].ansible_host }}"
    servers_transport: insecureSkipVerifyTransport
  - name: esx-mac-03
    hostname: esx-mac-03.vojak.cloud
    url: "https://{{ hostvars['esx-mac-03.vojak.cloud'].ansible_host }}"
    servers_transport: insecureSkipVerifyTransport
  - name: esx-mac-04
    hostname: esx-mac-04.vojak.cloud
    url: "https://{{ hostvars['esx-mac-04.vojak.cloud'].ansible_host }}"
    servers_transport: insecureSkipVerifyTransport
  - name: esx-mac-05
    hostname: esx-mac-05.vojak.cloud
    url: "https://{{ hostvars['esx-mac-05.vojak.cloud'].ansible_host }}"
    servers_transport: insecureSkipVerifyTransport
  - name: esx-mac-06
    hostname: esx-mac-06.vojak.cloud
    url: "https://{{ hostvars['esx-mac-06.vojak.cloud'].ansible_host }}"
    servers_transport: insecureSkipVerifyTransport
  - name: esx-asus-01
    hostname: esx-asus-01.vojak.cloud
    url: "https://{{ hostvars['esx-asus-01.vojak.cloud'].ansible_host }}"
    servers_transport: insecureSkipVerifyTransport
  # Internal-only application services
  - name: homepage
    hostname: homepage.vojak.cloud
    url: "http://{{ hostvars['routing.vojak.cloud'].ansible_host }}:{{ homepage_port_http }}"

traefik_port_api: 8081
